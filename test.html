<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <title>AR test</title>
  </head>
  <body>
    <button id="startBtn">üöÄ –í–æ–π—Ç–∏ –≤ AR</button>
    <script>
      const btn = document.getElementById("startBtn");

      btn.addEventListener("click", async () => {
        if (!navigator.xr) {
          alert("‚ùå WebXR –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è");
          return;
        }

        const isSupported = await navigator.xr.isSessionSupported("immersive-ar");
        if (!isSupported) {
          alert("‚ùå immersive-ar –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è");
          return;
        }

        try {
          const session = await navigator.xr.requestSession("immersive-ar", {
            requiredFeatures: ["hit-test", "dom-overlay"],
            domOverlay: { root: document.body },
          });
          alert("‚úÖ WebXR AR-—Å–µ—Å—Å–∏—è —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω–∞!");
          session.end();
        } catch (e) {
          alert("‚ùå –û—à–∏–±–∫–∞ –∑–∞–ø—É—Å–∫–∞ XR-—Å–µ—Å—Å–∏–∏:\n" + e.message);
        }
      });
    </script>
  </body>
</html>
